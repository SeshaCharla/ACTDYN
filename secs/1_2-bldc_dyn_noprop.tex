\subsection{Dynamic Model (without Propeller)}
We have the dynamic model of BLDC motor using moment balance:
\begin{align*}
    J_m \dot \omega_m &= T_e - b_f \omega_m - M_f\\
    \text{where, } \qquad &\\
    J_m &- \text{Moment of inertia of the motor}\\
    b_f &- \text{lumped parameter for viscous friction}\\
    M_f &- \text{lumped parameter for coulomb friction}
\end{align*}
\itbf{Friction:}
\begin{enumerate}
    \item Viscous friction: $-b_f \omega$.
    \item Columb friction: $-M_{f} \sign(\omega) = -M_{f} \qquad [\because$ the motor turns in only one direction $]$.
\end{enumerate}

\medskip

From the speed-torque characteristics of the BLDC motor:
\begin{align*}
    T_e &= K_T I = K_T \frac{(V_s - E)}{R} = \frac{K_T}{R} (V_s - K_v \omega_m)  & [\because K_v = K_T = k \psi]\\
    \text{Let, }\qquad \qquad &\\
    K_r &= \frac{K_T}{R}
\end{align*}
From the definition of Input to ESC:
\begin{align*}
    V_s &= u V_{in}\\
    \therefore T_e &= u K_r V_{in} - K_r K_v \omega_m
\end{align*}

Substituting:
\begin{align*}
    &J_m \dot \omega_m = u K_r V_{in}  - K_rK_v \omega_m  - b_f \omega_m - M_f
    & Let \\
    & b_{m} = K_r K_v  + b_f
\end{align*}
\begin{equation}
    \boxed{
    J_m \dot \omega_m + b_m \omega_m + M_f = u K_r V_{in}
    }
    \label{eqn:no_prop}
\end{equation}

\subsection{BLDC Motor with Propeller}
Adding propeller moment of inertia and the moment due to propeller drag into the BLDC motor model.
\begin{align*}
    (J_m + J_p) \dot \omega + b_m \omega + M_f &= u K_r V_{in} - C_D \omega^2
\end{align*}
Where, $C_D$ is the aerodynamic drag. Let, $J_m + J_p = J$
\begin{equation}
    \boxed{
    J\dot \omega + b_m \omega + C_D \omega^2 + M_f = u K_r V_{in}
    }
    \label{eqn:prop}
\end{equation}
